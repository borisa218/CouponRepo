<?xml version="1.0" encoding="utf-8"?>
<edmx:Edmx Version="3.0" xmlns:edmx="http://schemas.microsoft.com/ado/2009/11/edmx">
  <!-- EF Runtime content -->
  <edmx:Runtime>
    <!-- SSDL content -->
    <edmx:StorageModels>
    <Schema Namespace="CouponModel.Store" Alias="Self" Provider="System.Data.SqlClient" ProviderManifestToken="2008" xmlns:store="http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator" xmlns="http://schemas.microsoft.com/ado/2009/11/edm/ssdl">
  <EntityContainer Name="CouponModelStoreContainer">
    <EntitySet Name="PersonSet" EntityType="CouponModel.Store.PersonSet" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="OrderedCouponSet" EntityType="CouponModel.Store.OrderedCouponSet" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="CouponSet" EntityType="CouponModel.Store.CouponSet" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="LocationSet" EntityType="CouponModel.Store.LocationSet" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="BusinessSet" EntityType="CouponModel.Store.BusinessSet" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="CouponSet_SocailNetworkCoupon" EntityType="CouponModel.Store.CouponSet_SocailNetworkCoupon" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="PersonSet_Customer" EntityType="CouponModel.Store.PersonSet_Customer" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="PersonSet_BusinessOwner" EntityType="CouponModel.Store.PersonSet_BusinessOwner" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="PersonSet_Admin" EntityType="CouponModel.Store.PersonSet_Admin" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="SocailNetworkCouponCustomer" EntityType="CouponModel.Store.SocailNetworkCouponCustomer" store:Type="Tables" Schema="dbo" />
    <EntitySet Name="CustomerCoupon" EntityType="CouponModel.Store.CustomerCoupon" store:Type="Tables" Schema="dbo" />
    <AssociationSet Name="FK_SocailNetworkCouponCustomer_SocailNetworkCoupon" Association="CouponModel.Store.FK_SocailNetworkCouponCustomer_SocailNetworkCoupon">
      <End Role="SocailNetworkCoupon" EntitySet="CouponSet_SocailNetworkCoupon" />
      <End Role="SocailNetworkCouponCustomer" EntitySet="SocailNetworkCouponCustomer" />
    </AssociationSet>
    <AssociationSet Name="FK_SocailNetworkCouponCustomer_Customer" Association="CouponModel.Store.FK_SocailNetworkCouponCustomer_Customer">
      <End Role="Customer" EntitySet="PersonSet_Customer" />
      <End Role="SocailNetworkCouponCustomer" EntitySet="SocailNetworkCouponCustomer" />
    </AssociationSet>
    <AssociationSet Name="LocationCustomer" Association="CouponModel.Store.LocationCustomer">
      <End Role="Location" EntitySet="LocationSet" />
      <End Role="Customer" EntitySet="PersonSet_Customer" />
    </AssociationSet>
    <AssociationSet Name="OrderedCouponCustomer" Association="CouponModel.Store.OrderedCouponCustomer">
      <End Role="OrderedCoupon" EntitySet="OrderedCouponSet" />
      <End Role="Customer" EntitySet="PersonSet_Customer" />
    </AssociationSet>
    <AssociationSet Name="FK_CustomerCoupon_Customer" Association="CouponModel.Store.FK_CustomerCoupon_Customer">
      <End Role="Customer" EntitySet="PersonSet_Customer" />
      <End Role="CustomerCoupon" EntitySet="CustomerCoupon" />
    </AssociationSet>
    <AssociationSet Name="FK_CustomerCoupon_Coupon" Association="CouponModel.Store.FK_CustomerCoupon_Coupon">
      <End Role="Coupon" EntitySet="CouponSet" />
      <End Role="CustomerCoupon" EntitySet="CustomerCoupon" />
    </AssociationSet>
    <AssociationSet Name="CouponOrderedCoupon" Association="CouponModel.Store.CouponOrderedCoupon">
      <End Role="Coupon" EntitySet="CouponSet" />
      <End Role="OrderedCoupon" EntitySet="OrderedCouponSet" />
    </AssociationSet>
    <AssociationSet Name="CouponLocation" Association="CouponModel.Store.CouponLocation">
      <End Role="Coupon" EntitySet="CouponSet" />
      <End Role="Location" EntitySet="LocationSet" />
    </AssociationSet>
    <AssociationSet Name="CouponBusiness" Association="CouponModel.Store.CouponBusiness">
      <End Role="Coupon" EntitySet="CouponSet" />
      <End Role="Business" EntitySet="BusinessSet" />
    </AssociationSet>
    <AssociationSet Name="BusinessBusinessOwner" Association="CouponModel.Store.BusinessBusinessOwner">
      <End Role="Business" EntitySet="BusinessSet" />
      <End Role="BusinessOwner" EntitySet="PersonSet_BusinessOwner" />
    </AssociationSet>
    <AssociationSet Name="BusinessAdmin" Association="CouponModel.Store.BusinessAdmin">
      <End Role="Business" EntitySet="BusinessSet" />
      <End Role="Admin" EntitySet="PersonSet_Admin" />
    </AssociationSet>
    <AssociationSet Name="SocailNetworkCouponAdmin" Association="CouponModel.Store.SocailNetworkCouponAdmin">
      <End Role="SocailNetworkCoupon" EntitySet="CouponSet_SocailNetworkCoupon" />
      <End Role="Admin" EntitySet="PersonSet_Admin" />
    </AssociationSet>
    <AssociationSet Name="FK_SocailNetworkCoupon_inherits_Coupon" Association="CouponModel.Store.FK_SocailNetworkCoupon_inherits_Coupon">
      <End Role="Coupon" EntitySet="CouponSet" />
      <End Role="SocailNetworkCoupon" EntitySet="CouponSet_SocailNetworkCoupon" />
    </AssociationSet>
    <AssociationSet Name="FK_Customer_inherits_Person" Association="CouponModel.Store.FK_Customer_inherits_Person">
      <End Role="Person" EntitySet="PersonSet" />
      <End Role="Customer" EntitySet="PersonSet_Customer" />
    </AssociationSet>
    <AssociationSet Name="FK_BusinessOwner_inherits_Person" Association="CouponModel.Store.FK_BusinessOwner_inherits_Person">
      <End Role="Person" EntitySet="PersonSet" />
      <End Role="BusinessOwner" EntitySet="PersonSet_BusinessOwner" />
    </AssociationSet>
    <AssociationSet Name="FK_Admin_inherits_Person" Association="CouponModel.Store.FK_Admin_inherits_Person">
      <End Role="Person" EntitySet="PersonSet" />
      <End Role="Admin" EntitySet="PersonSet_Admin" />
    </AssociationSet>
  </EntityContainer>
  <EntityType Name="PersonSet">
    <Key>
      <PropertyRef Name="pid" />
    </Key>
    <Property Name="pid" Type="nvarchar(max)" Nullable="false" />
    <Property Name="UserName" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Password" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Email" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Phone" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Age" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Sex" Type="nvarchar(max)" Nullable="true" />
  </EntityType>
  <EntityType Name="OrderedCouponSet">
    <Key>
      <PropertyRef Name="CouponId" />
    </Key>
    <Property Name="CouponId" Type="nvarchar(max)" Nullable="false" />
    <Property Name="Used" Type="bit" Nullable="true" />
    <Property Name="Rank" Type="int" Nullable="true" />
    <Property Name="CouponName" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Customer_pid" Type="nvarchar(max)" Nullable="true" />
  </EntityType>
  <EntityType Name="CouponSet">
    <Key>
      <PropertyRef Name="Name" />
    </Key>
    <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
    <Property Name="Category" Type="int" Nullable="true" />
    <Property Name="OriginalPrice" Type="int" Nullable="true" />
    <Property Name="DiscountPrice" Type="int" Nullable="true" />
    <Property Name="Description" Type="nvarchar(max)" Nullable="true" />
    <Property Name="CouponCode" Type="int" Nullable="true" />
    <Property Name="ExpirationDate" Type="datetime" Nullable="true" />
    <Property Name="AverageRank" Type="float" Nullable="true" />
    <Property Name="Location_Address" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Business_BusinessId" Type="nvarchar(max)" Nullable="true" />
  </EntityType>
  <EntityType Name="LocationSet">
    <Key>
      <PropertyRef Name="Address" />
    </Key>
    <Property Name="x" Type="float" Nullable="true" />
    <Property Name="y" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Address" Type="nvarchar(max)" Nullable="false" />
  </EntityType>
  <EntityType Name="BusinessSet">
    <Key>
      <PropertyRef Name="BusinessId" />
    </Key>
    <Property Name="BusinessId" Type="nvarchar(max)" Nullable="false" />
    <Property Name="Name" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Address" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Description" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Category" Type="int" Nullable="true" />
    <Property Name="Phone" Type="nvarchar(max)" Nullable="true" />
    <Property Name="BusinessOwner_pid" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Admin_pid" Type="nvarchar(max)" Nullable="true" />
  </EntityType>
  <EntityType Name="CouponSet_SocailNetworkCoupon">
    <Key>
      <PropertyRef Name="Name" />
    </Key>
    <Property Name="SocialWebsite" Type="nvarchar(max)" Nullable="true" />
    <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
    <Property Name="Admin_pid" Type="nvarchar(max)" Nullable="true" />
  </EntityType>
  <EntityType Name="PersonSet_Customer">
    <Key>
      <PropertyRef Name="pid" />
    </Key>
    <Property Name="LocationAddress" Type="nvarchar(max)" Nullable="true" />
    <Property Name="pid" Type="nvarchar(max)" Nullable="false" />
  </EntityType>
  <EntityType Name="PersonSet_BusinessOwner">
    <Key>
      <PropertyRef Name="pid" />
    </Key>
    <Property Name="pid" Type="nvarchar(max)" Nullable="false" />
  </EntityType>
  <EntityType Name="PersonSet_Admin">
    <Key>
      <PropertyRef Name="pid" />
    </Key>
    <Property Name="pid" Type="nvarchar(max)" Nullable="false" />
  </EntityType>
  <EntityType Name="SocailNetworkCouponCustomer">
    <Key>
      <PropertyRef Name="SocailNetworkCoupon_Name" />
      <PropertyRef Name="Customer_pid" />
    </Key>
    <Property Name="SocailNetworkCoupon_Name" Type="nvarchar(max)" Nullable="false" />
    <Property Name="Customer_pid" Type="nvarchar(max)" Nullable="false" />
  </EntityType>
  <EntityType Name="CustomerCoupon">
    <Key>
      <PropertyRef Name="Customer1_pid" />
      <PropertyRef Name="Coupon_Name" />
    </Key>
    <Property Name="Customer1_pid" Type="nvarchar(max)" Nullable="false" />
    <Property Name="Coupon_Name" Type="nvarchar(max)" Nullable="false" />
  </EntityType>
  <Association Name="LocationCustomer">
    <End Role="Location" Type="CouponModel.Store.LocationSet" Multiplicity="0..1" />
    <End Role="Customer" Type="CouponModel.Store.PersonSet_Customer" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Location">
        <PropertyRef Name="Address" />
      </Principal>
      <Dependent Role="Customer">
        <PropertyRef Name="LocationAddress" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="OrderedCouponCustomer">
    <End Role="OrderedCoupon" Type="CouponModel.Store.OrderedCouponSet" Multiplicity="*" />
    <End Role="Customer" Type="CouponModel.Store.PersonSet_Customer" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Customer">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="OrderedCoupon">
        <PropertyRef Name="Customer_pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="CouponOrderedCoupon">
    <End Role="Coupon" Type="CouponModel.Store.CouponSet" Multiplicity="0..1" />
    <End Role="OrderedCoupon" Type="CouponModel.Store.OrderedCouponSet" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Coupon">
        <PropertyRef Name="Name" />
      </Principal>
      <Dependent Role="OrderedCoupon">
        <PropertyRef Name="CouponName" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="CouponLocation">
    <End Role="Coupon" Type="CouponModel.Store.CouponSet" Multiplicity="*" />
    <End Role="Location" Type="CouponModel.Store.LocationSet" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Location">
        <PropertyRef Name="Address" />
      </Principal>
      <Dependent Role="Coupon">
        <PropertyRef Name="Location_Address" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="CouponBusiness">
    <End Role="Coupon" Type="CouponModel.Store.CouponSet" Multiplicity="*" />
    <End Role="Business" Type="CouponModel.Store.BusinessSet" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Business">
        <PropertyRef Name="BusinessId" />
      </Principal>
      <Dependent Role="Coupon">
        <PropertyRef Name="Business_BusinessId" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="BusinessBusinessOwner">
    <End Role="Business" Type="CouponModel.Store.BusinessSet" Multiplicity="*" />
    <End Role="BusinessOwner" Type="CouponModel.Store.PersonSet_BusinessOwner" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="BusinessOwner">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="Business">
        <PropertyRef Name="BusinessOwner_pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="BusinessAdmin">
    <End Role="Business" Type="CouponModel.Store.BusinessSet" Multiplicity="*" />
    <End Role="Admin" Type="CouponModel.Store.PersonSet_Admin" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Admin">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="Business">
        <PropertyRef Name="Admin_pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="SocailNetworkCouponAdmin">
    <End Role="SocailNetworkCoupon" Type="CouponModel.Store.CouponSet_SocailNetworkCoupon" Multiplicity="*" />
    <End Role="Admin" Type="CouponModel.Store.PersonSet_Admin" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Admin">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="SocailNetworkCoupon">
        <PropertyRef Name="Admin_pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_SocailNetworkCouponCustomer_SocailNetworkCoupon">
    <End Role="SocailNetworkCoupon" Type="CouponModel.Store.CouponSet_SocailNetworkCoupon" Multiplicity="1" />
    <End Role="SocailNetworkCouponCustomer" Type="CouponModel.Store.SocailNetworkCouponCustomer" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="SocailNetworkCoupon">
        <PropertyRef Name="Name" />
      </Principal>
      <Dependent Role="SocailNetworkCouponCustomer">
        <PropertyRef Name="SocailNetworkCoupon_Name" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_SocailNetworkCouponCustomer_Customer">
    <End Role="SocailNetworkCouponCustomer" Type="CouponModel.Store.SocailNetworkCouponCustomer" Multiplicity="*" />
    <End Role="Customer" Type="CouponModel.Store.PersonSet_Customer" Multiplicity="1" />
    <ReferentialConstraint>
      <Principal Role="Customer">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="SocailNetworkCouponCustomer">
        <PropertyRef Name="Customer_pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_CustomerCoupon_Customer">
    <End Role="Customer" Type="CouponModel.Store.PersonSet_Customer" Multiplicity="1" />
    <End Role="CustomerCoupon" Type="CouponModel.Store.CustomerCoupon" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Customer">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="CustomerCoupon">
        <PropertyRef Name="Customer1_pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_CustomerCoupon_Coupon">
    <End Role="CustomerCoupon" Type="CouponModel.Store.CustomerCoupon" Multiplicity="*" />
    <End Role="Coupon" Type="CouponModel.Store.CouponSet" Multiplicity="1" />
    <ReferentialConstraint>
      <Principal Role="Coupon">
        <PropertyRef Name="Name" />
      </Principal>
      <Dependent Role="CustomerCoupon">
        <PropertyRef Name="Coupon_Name" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_SocailNetworkCoupon_inherits_Coupon">
    <End Role="Coupon" Type="CouponModel.Store.CouponSet" Multiplicity="1">
      <OnDelete Action="Cascade" />
    </End>
    <End Role="SocailNetworkCoupon" Type="CouponModel.Store.CouponSet_SocailNetworkCoupon" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Coupon">
        <PropertyRef Name="Name" />
      </Principal>
      <Dependent Role="SocailNetworkCoupon">
        <PropertyRef Name="Name" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_Customer_inherits_Person">
    <End Role="Person" Type="CouponModel.Store.PersonSet" Multiplicity="1">
      <OnDelete Action="Cascade" />
    </End>
    <End Role="Customer" Type="CouponModel.Store.PersonSet_Customer" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Person">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="Customer">
        <PropertyRef Name="pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_BusinessOwner_inherits_Person">
    <End Role="Person" Type="CouponModel.Store.PersonSet" Multiplicity="1">
      <OnDelete Action="Cascade" />
    </End>
    <End Role="BusinessOwner" Type="CouponModel.Store.PersonSet_BusinessOwner" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Person">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="BusinessOwner">
        <PropertyRef Name="pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="FK_Admin_inherits_Person">
    <End Role="Person" Type="CouponModel.Store.PersonSet" Multiplicity="1">
      <OnDelete Action="Cascade" />
    </End>
    <End Role="Admin" Type="CouponModel.Store.PersonSet_Admin" Multiplicity="0..1" />
    <ReferentialConstraint>
      <Principal Role="Person">
        <PropertyRef Name="pid" />
      </Principal>
      <Dependent Role="Admin">
        <PropertyRef Name="pid" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
</Schema></edmx:StorageModels>
    <!-- CSDL content -->
    <edmx:ConceptualModels>
      <Schema xmlns="http://schemas.microsoft.com/ado/2009/11/edm" xmlns:cg="http://schemas.microsoft.com/ado/2006/04/codegeneration" xmlns:store="http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator" Namespace="CouponModel" Alias="Self" xmlns:annotation="http://schemas.microsoft.com/ado/2009/02/edm/annotation" annotation:UseStrongSpatialTypes="false">
        <EntityContainer Name="CouponModelContainer" annotation:LazyLoadingEnabled="true">
          <EntitySet Name="PersonSet" EntityType="CouponModel.Person" />
          <EntitySet Name="OrderedCouponSet" EntityType="CouponModel.OrderedCoupon" />
          <EntitySet Name="CouponSet" EntityType="CouponModel.Coupon" />
          <EntitySet Name="LocationSet" EntityType="CouponModel.Location" />
          <EntitySet Name="BusinessSet" EntityType="CouponModel.Business" />
          <AssociationSet Name="SocailNetworkCouponCustomer" Association="CouponModel.SocailNetworkCouponCustomer">
            <End Role="SocailNetworkCoupon" EntitySet="CouponSet" />
            <End Role="Customer" EntitySet="PersonSet" />
          </AssociationSet>
          <AssociationSet Name="LocationCustomer" Association="CouponModel.LocationCustomer">
            <End Role="Location" EntitySet="LocationSet" />
            <End Role="Customer" EntitySet="PersonSet" />
          </AssociationSet>
          <AssociationSet Name="OrderedCouponCustomer" Association="CouponModel.OrderedCouponCustomer">
            <End Role="OrderedCoupon" EntitySet="OrderedCouponSet" />
            <End Role="Customer" EntitySet="PersonSet" />
          </AssociationSet>
          <AssociationSet Name="CustomerCoupon" Association="CouponModel.CustomerCoupon">
            <End Role="Customer" EntitySet="PersonSet" />
            <End Role="Coupon" EntitySet="CouponSet" />
          </AssociationSet>
          <AssociationSet Name="CouponOrderedCoupon" Association="CouponModel.CouponOrderedCoupon">
            <End Role="Coupon" EntitySet="CouponSet" />
            <End Role="OrderedCoupon" EntitySet="OrderedCouponSet" />
          </AssociationSet>
          <AssociationSet Name="CouponLocation" Association="CouponModel.CouponLocation">
            <End Role="Coupon" EntitySet="CouponSet" />
            <End Role="Location" EntitySet="LocationSet" />
          </AssociationSet>
          <AssociationSet Name="CouponBusiness" Association="CouponModel.CouponBusiness">
            <End Role="Coupon" EntitySet="CouponSet" />
            <End Role="Business" EntitySet="BusinessSet" />
          </AssociationSet>
          <AssociationSet Name="BusinessBusinessOwner" Association="CouponModel.BusinessBusinessOwner">
            <End Role="Business" EntitySet="BusinessSet" />
            <End Role="BusinessOwner" EntitySet="PersonSet" />
          </AssociationSet>
          <AssociationSet Name="BusinessAdmin" Association="CouponModel.BusinessAdmin">
            <End Role="Business" EntitySet="BusinessSet" />
            <End Role="Admin" EntitySet="PersonSet" />
          </AssociationSet>
          <AssociationSet Name="SocailNetworkCouponAdmin" Association="CouponModel.SocailNetworkCouponAdmin">
            <End Role="SocailNetworkCoupon" EntitySet="CouponSet" />
            <End Role="Admin" EntitySet="PersonSet" />
          </AssociationSet>
        </EntityContainer>
        <EntityType Name="Person" Abstract="false">
          <Key>
            <PropertyRef Name="pid" />
          </Key>
          <Property Name="pid" Type="String" Nullable="false" annotation:StoreGeneratedPattern="None" />
          <Property Name="UserName" Type="String" Nullable="true" />
          <Property Name="Password" Type="String" Nullable="true" />
          <Property Name="Email" Type="String" Nullable="true" />
          <Property Name="Phone" Type="String" Nullable="true" />
          <Property Name="Age" Type="String" Nullable="true" />
          <Property Name="Sex" Type="String" Nullable="true" />
        </EntityType>
        <EnumType Name="Sex">
          <Member Name="Male" />
          <Member Name="Female" />
        </EnumType>
        <EntityType Name="Customer" BaseType="CouponModel.Person">
          <NavigationProperty Name="SocailNetworkCoupon" Relationship="CouponModel.SocailNetworkCouponCustomer" FromRole="Customer" ToRole="SocailNetworkCoupon" />
          <NavigationProperty Name="Location" Relationship="CouponModel.LocationCustomer" FromRole="Customer" ToRole="Location" />
          <Property Type="String" Name="LocationAddress" Nullable="true" />
          <NavigationProperty Name="OrderedCoupon" Relationship="CouponModel.OrderedCouponCustomer" FromRole="Customer" ToRole="OrderedCoupon" />
          <NavigationProperty Name="Coupon" Relationship="CouponModel.CustomerCoupon" FromRole="Customer" ToRole="Coupon" />
        </EntityType>
        <EntityType Name="Admin" BaseType="CouponModel.Person" >
          <NavigationProperty Name="Business" Relationship="CouponModel.BusinessAdmin" FromRole="Admin" ToRole="Business" />
          <NavigationProperty Name="SocailNetworkCoupon" Relationship="CouponModel.SocailNetworkCouponAdmin" FromRole="Admin" ToRole="SocailNetworkCoupon" />
        </EntityType>
        <EntityType Name="BusinessOwner" BaseType="CouponModel.Person">
          <NavigationProperty Name="Business" Relationship="CouponModel.BusinessBusinessOwner" FromRole="BusinessOwner" ToRole="Business" />
        </EntityType>
        <EntityType Name="OrderedCoupon">
          <Key>
            <PropertyRef Name="CouponId" />
          </Key>
          <Property Name="CouponId" Type="String" Nullable="false" annotation:StoreGeneratedPattern="None" />
          <Property Name="Used" Type="Boolean" Nullable="true" />
          <Property Name="Rank" Type="Int32" Nullable="true" />
          <NavigationProperty Name="Customer" Relationship="CouponModel.OrderedCouponCustomer" FromRole="OrderedCoupon" ToRole="Customer" />
          <NavigationProperty Name="Coupon" Relationship="CouponModel.CouponOrderedCoupon" FromRole="OrderedCoupon" ToRole="Coupon" />
          <Property Type="String" Name="CouponName" Nullable="true" />
        </EntityType>
        <EntityType Name="Coupon">
          <Key>
            <PropertyRef Name="Name" />
          </Key>
          <Property Name="Name" Type="String" Nullable="false" annotation:StoreGeneratedPattern="None" />
          <Property Name="Category" Type="CouponModel.CategoryType" Nullable="true" />
          <Property Name="OriginalPrice" Type="Int32" Nullable="true" />
          <Property Name="DiscountPrice" Type="Int32" Nullable="true" />
          <Property Name="Description" Type="String" Nullable="true" />
          <Property Name="CouponCode" Type="Int32" Nullable="true" />
          <Property Name="ExpirationDate" Type="DateTime" Nullable="true" />
          <Property Name="AverageRank" Type="Double" Nullable="true" />
          <NavigationProperty Name="Customer1" Relationship="CouponModel.CustomerCoupon" FromRole="Coupon" ToRole="Customer" />
          <NavigationProperty Name="OrderedCoupon" Relationship="CouponModel.CouponOrderedCoupon" FromRole="Coupon" ToRole="OrderedCoupon" />
          <NavigationProperty Name="Location" Relationship="CouponModel.CouponLocation" FromRole="Coupon" ToRole="Location" />
          <NavigationProperty Name="Business" Relationship="CouponModel.CouponBusiness" FromRole="Coupon" ToRole="Business" />
        </EntityType>
        <EnumType Name="CategoryType">
          <Member Name="Sports" />
          <Member Name="Food" />
          <Member Name="Shopping" />
          <Member Name="HealthandBeauty" />
        </EnumType>
        <EntityType Name="Location">
          <Key>
            <PropertyRef Name="Address" />
          </Key>
          <Property Name="x" Type="Double" Nullable="true" annotation:StoreGeneratedPattern="None" />
          <Property Name="y" Type="String" Nullable="true" />
          <Property Name="Address" Type="String" Nullable="false" />
          <NavigationProperty Name="Customer" Relationship="CouponModel.LocationCustomer" FromRole="Location" ToRole="Customer" />
          <NavigationProperty Name="Coupon" Relationship="CouponModel.CouponLocation" FromRole="Location" ToRole="Coupon" />
        </EntityType>
        <EntityType Name="SocailNetworkCoupon" BaseType="CouponModel.Coupon" >
          <Property Name="SocialWebsite" Type="String" Nullable="true" />
          <NavigationProperty Name="Customer" Relationship="CouponModel.SocailNetworkCouponCustomer" FromRole="SocailNetworkCoupon" ToRole="Customer" />
          <NavigationProperty Name="Admin" Relationship="CouponModel.SocailNetworkCouponAdmin" FromRole="SocailNetworkCoupon" ToRole="Admin" />
        </EntityType>
        <EntityType Name="Business">
          <Key>
            <PropertyRef Name="BusinessId" />
          </Key>
          <Property Name="BusinessId" Type="String" Nullable="false" annotation:StoreGeneratedPattern="None" />
          <Property Name="Name" Type="String" Nullable="true" />
          <Property Name="Address" Type="String" Nullable="true" />
          <Property Name="Description" Type="String" Nullable="true" />
          <Property Name="Category" Type="CouponModel.CategoryType" Nullable="true" />
          <Property Name="Phone" Type="String" Nullable="true" />
          <NavigationProperty Name="Coupon" Relationship="CouponModel.CouponBusiness" FromRole="Business" ToRole="Coupon" />
          <NavigationProperty Name="BusinessOwner" Relationship="CouponModel.BusinessBusinessOwner" FromRole="Business" ToRole="BusinessOwner" />
          <NavigationProperty Name="Admin" Relationship="CouponModel.BusinessAdmin" FromRole="Business" ToRole="Admin" />
        </EntityType>
        <Association Name="SocailNetworkCouponCustomer">
          <End Type="CouponModel.SocailNetworkCoupon" Role="SocailNetworkCoupon" Multiplicity="*" />
          <End Type="CouponModel.Customer" Role="Customer" Multiplicity="*" />
        </Association>
        <Association Name="LocationCustomer">
          <End Type="CouponModel.Location" Role="Location" Multiplicity="0..1" />
          <End Type="CouponModel.Customer" Role="Customer" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Location">
              <PropertyRef Name="Address" />
            </Principal>
            <Dependent Role="Customer">
              <PropertyRef Name="LocationAddress" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="OrderedCouponCustomer">
          <End Type="CouponModel.OrderedCoupon" Role="OrderedCoupon" Multiplicity="*" />
          <End Type="CouponModel.Customer" Role="Customer" Multiplicity="0..1" />
        </Association>
        <Association Name="CustomerCoupon">
          <End Type="CouponModel.Customer" Role="Customer" Multiplicity="*" />
          <End Type="CouponModel.Coupon" Role="Coupon" Multiplicity="*" />
        </Association>
        <Association Name="CouponOrderedCoupon">
          <End Type="CouponModel.Coupon" Role="Coupon" Multiplicity="0..1" />
          <End Type="CouponModel.OrderedCoupon" Role="OrderedCoupon" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Coupon">
              <PropertyRef Name="Name" />
            </Principal>
            <Dependent Role="OrderedCoupon">
              <PropertyRef Name="CouponName" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="CouponLocation">
          <End Type="CouponModel.Coupon" Role="Coupon" Multiplicity="*" />
          <End Type="CouponModel.Location" Role="Location" Multiplicity="0..1" />
        </Association>
        <Association Name="CouponBusiness">
          <End Type="CouponModel.Coupon" Role="Coupon" Multiplicity="*" />
          <End Type="CouponModel.Business" Role="Business" Multiplicity="0..1" />
        </Association>
        <Association Name="BusinessBusinessOwner">
          <End Type="CouponModel.Business" Role="Business" Multiplicity="*" />
          <End Type="CouponModel.BusinessOwner" Role="BusinessOwner" Multiplicity="0..1" />
        </Association>
        <Association Name="BusinessAdmin">
          <End Type="CouponModel.Business" Role="Business" Multiplicity="*" />
          <End Type="CouponModel.Admin" Role="Admin" Multiplicity="0..1" />
        </Association>
        <Association Name="SocailNetworkCouponAdmin">
          <End Type="CouponModel.SocailNetworkCoupon" Role="SocailNetworkCoupon" Multiplicity="*" />
          <End Type="CouponModel.Admin" Role="Admin" Multiplicity="0..1" />
        </Association>
      </Schema>
    </edmx:ConceptualModels>
    <!-- C-S mapping content -->
    <edmx:Mappings>
    <Mapping Space="C-S" xmlns="http://schemas.microsoft.com/ado/2009/11/mapping/cs">
  <EntityContainerMapping StorageEntityContainer="CouponModelStoreContainer" CdmEntityContainer="CouponModelContainer">
    <EntitySetMapping Name="PersonSet">
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.Person)">
        <MappingFragment StoreEntitySet="PersonSet">
          <ScalarProperty Name="pid" ColumnName="pid" />
          <ScalarProperty Name="UserName" ColumnName="UserName" />
          <ScalarProperty Name="Password" ColumnName="Password" />
          <ScalarProperty Name="Email" ColumnName="Email" />
          <ScalarProperty Name="Phone" ColumnName="Phone" />
          <ScalarProperty Name="Age" ColumnName="Age" />
          <ScalarProperty Name="Sex" ColumnName="Sex" />
        </MappingFragment>
      </EntityTypeMapping>
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.Customer)">
        <MappingFragment StoreEntitySet="PersonSet_Customer">
          <ScalarProperty Name="pid" ColumnName="pid" />
          <ScalarProperty Name="LocationAddress" ColumnName="LocationAddress" />
        </MappingFragment>
      </EntityTypeMapping>
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.BusinessOwner)">
        <MappingFragment StoreEntitySet="PersonSet_BusinessOwner">
          <ScalarProperty Name="pid" ColumnName="pid" />
        </MappingFragment>
      </EntityTypeMapping>
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.Admin)">
        <MappingFragment StoreEntitySet="PersonSet_Admin">
          <ScalarProperty Name="pid" ColumnName="pid" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>
    <EntitySetMapping Name="OrderedCouponSet">
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.OrderedCoupon)">
        <MappingFragment StoreEntitySet="OrderedCouponSet">
          <ScalarProperty Name="CouponId" ColumnName="CouponId" />
          <ScalarProperty Name="Used" ColumnName="Used" />
          <ScalarProperty Name="Rank" ColumnName="Rank" />
          <ScalarProperty Name="CouponName" ColumnName="CouponName" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>
    <EntitySetMapping Name="CouponSet">
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.Coupon)">
        <MappingFragment StoreEntitySet="CouponSet">
          <ScalarProperty Name="Name" ColumnName="Name" />
          <ScalarProperty Name="Category" ColumnName="Category" />
          <ScalarProperty Name="OriginalPrice" ColumnName="OriginalPrice" />
          <ScalarProperty Name="DiscountPrice" ColumnName="DiscountPrice" />
          <ScalarProperty Name="Description" ColumnName="Description" />
          <ScalarProperty Name="CouponCode" ColumnName="CouponCode" />
          <ScalarProperty Name="ExpirationDate" ColumnName="ExpirationDate" />
          <ScalarProperty Name="AverageRank" ColumnName="AverageRank" />
        </MappingFragment>
      </EntityTypeMapping>
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.SocailNetworkCoupon)">
        <MappingFragment StoreEntitySet="CouponSet_SocailNetworkCoupon">
          <ScalarProperty Name="Name" ColumnName="Name" />
          <ScalarProperty Name="SocialWebsite" ColumnName="SocialWebsite" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>
    <EntitySetMapping Name="LocationSet">
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.Location)">
        <MappingFragment StoreEntitySet="LocationSet">
          <ScalarProperty Name="Address" ColumnName="Address" />
          <ScalarProperty Name="x" ColumnName="x" />
          <ScalarProperty Name="y" ColumnName="y" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>
    <EntitySetMapping Name="BusinessSet">
      <EntityTypeMapping TypeName="IsTypeOf(CouponModel.Business)">
        <MappingFragment StoreEntitySet="BusinessSet">
          <ScalarProperty Name="BusinessId" ColumnName="BusinessId" />
          <ScalarProperty Name="Name" ColumnName="Name" />
          <ScalarProperty Name="Address" ColumnName="Address" />
          <ScalarProperty Name="Description" ColumnName="Description" />
          <ScalarProperty Name="Category" ColumnName="Category" />
          <ScalarProperty Name="Phone" ColumnName="Phone" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>
    <AssociationSetMapping Name="SocailNetworkCouponCustomer" TypeName="CouponModel.SocailNetworkCouponCustomer" StoreEntitySet="SocailNetworkCouponCustomer">
      <EndProperty Name="SocailNetworkCoupon">
        <ScalarProperty Name="Name" ColumnName="SocailNetworkCoupon_Name" />
      </EndProperty>
      <EndProperty Name="Customer">
        <ScalarProperty Name="pid" ColumnName="Customer_pid" />
      </EndProperty>
    </AssociationSetMapping>
    <AssociationSetMapping Name="OrderedCouponCustomer" TypeName="CouponModel.OrderedCouponCustomer" StoreEntitySet="OrderedCouponSet">
      <EndProperty Name="Customer">
        <ScalarProperty Name="pid" ColumnName="Customer_pid" />
      </EndProperty>
      <EndProperty Name="OrderedCoupon">
        <ScalarProperty Name="CouponId" ColumnName="CouponId" />
      </EndProperty>
      <Condition ColumnName="Customer_pid" IsNull="false" />
    </AssociationSetMapping>
    <AssociationSetMapping Name="CustomerCoupon" TypeName="CouponModel.CustomerCoupon" StoreEntitySet="CustomerCoupon">
      <EndProperty Name="Customer">
        <ScalarProperty Name="pid" ColumnName="Customer1_pid" />
      </EndProperty>
      <EndProperty Name="Coupon">
        <ScalarProperty Name="Name" ColumnName="Coupon_Name" />
      </EndProperty>
    </AssociationSetMapping>
    <AssociationSetMapping Name="CouponLocation" TypeName="CouponModel.CouponLocation" StoreEntitySet="CouponSet">
      <EndProperty Name="Location">
        <ScalarProperty Name="Address" ColumnName="Location_Address" />
      </EndProperty>
      <EndProperty Name="Coupon">
        <ScalarProperty Name="Name" ColumnName="Name" />
      </EndProperty>
      <Condition ColumnName="Location_Address" IsNull="false" />
    </AssociationSetMapping>
    <AssociationSetMapping Name="CouponBusiness" TypeName="CouponModel.CouponBusiness" StoreEntitySet="CouponSet">
      <EndProperty Name="Business">
        <ScalarProperty Name="BusinessId" ColumnName="Business_BusinessId" />
      </EndProperty>
      <EndProperty Name="Coupon">
        <ScalarProperty Name="Name" ColumnName="Name" />
      </EndProperty>
      <Condition ColumnName="Business_BusinessId" IsNull="false" />
    </AssociationSetMapping>
    <AssociationSetMapping Name="BusinessBusinessOwner" TypeName="CouponModel.BusinessBusinessOwner" StoreEntitySet="BusinessSet">
      <EndProperty Name="BusinessOwner">
        <ScalarProperty Name="pid" ColumnName="BusinessOwner_pid" />
      </EndProperty>
      <EndProperty Name="Business">
        <ScalarProperty Name="BusinessId" ColumnName="BusinessId" />
      </EndProperty>
      <Condition ColumnName="BusinessOwner_pid" IsNull="false" />
    </AssociationSetMapping>
    <AssociationSetMapping Name="BusinessAdmin" TypeName="CouponModel.BusinessAdmin" StoreEntitySet="BusinessSet">
      <EndProperty Name="Admin">
        <ScalarProperty Name="pid" ColumnName="Admin_pid" />
      </EndProperty>
      <EndProperty Name="Business">
        <ScalarProperty Name="BusinessId" ColumnName="BusinessId" />
      </EndProperty>
      <Condition ColumnName="Admin_pid" IsNull="false" />
    </AssociationSetMapping>
    <AssociationSetMapping Name="SocailNetworkCouponAdmin" TypeName="CouponModel.SocailNetworkCouponAdmin" StoreEntitySet="CouponSet_SocailNetworkCoupon">
      <EndProperty Name="Admin">
        <ScalarProperty Name="pid" ColumnName="Admin_pid" />
      </EndProperty>
      <EndProperty Name="SocailNetworkCoupon">
        <ScalarProperty Name="Name" ColumnName="Name" />
      </EndProperty>
      <Condition ColumnName="Admin_pid" IsNull="false" />
    </AssociationSetMapping>
  </EntityContainerMapping>
</Mapping></edmx:Mappings>
  </edmx:Runtime>
  <!-- EF Designer content (DO NOT EDIT MANUALLY BELOW HERE) -->
  <edmx:Designer xmlns="http://schemas.microsoft.com/ado/2009/11/edmx">
    <edmx:Connection>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="MetadataArtifactProcessing" Value="EmbedInOutputAssembly" />
      </DesignerInfoPropertySet>
    </edmx:Connection>
    <edmx:Options>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="ValidateOnBuild" Value="true" />
        <DesignerProperty Name="EnablePluralization" Value="False" />
        <DesignerProperty Name="CodeGenerationStrategy" Value="None" />
        <DesignerProperty Name="UseLegacyProvider" Value="True" />
      </DesignerInfoPropertySet>
    </edmx:Options>
    <!-- Diagram content (shape and connector positions) -->
    <edmx:Diagrams>
    </edmx:Diagrams>
  </edmx:Designer>
</edmx:Edmx>
